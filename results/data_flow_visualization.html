
<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>éšç§æ•°æ®æµå¯è§†åŒ–</title>
<script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
<style>
body {
  margin: 0;
  display: flex;
  font-family: monospace;
}
#network {
  width: 60%;
  height: 100vh;
  border-right: 1px solid #ccc;
}
#detail {
  width: 40%;
  padding: 12px;
  overflow: auto;
  background: #f9f9f9;
}
pre {
  background: #f0f0f0;
  padding: 10px;
  white-space: pre-wrap;
  font-size: 12px;
}
.node-info {
  padding: 10px;
  border-bottom: 1px solid #ddd;
}
.flow-header {
  background: #4CAF50;
  color: white;
  padding: 5px 10px;
  margin: 5px 0;
}
</style>
</head>
<body>

<div id="network"></div>
<div id="detail">
  <h2>èŠ‚ç‚¹è¯¦æƒ…</h2>
  <div id="info">ç‚¹å‡»å·¦ä¾§èŠ‚ç‚¹æŸ¥çœ‹æºç </div>
</div>

<script>
const nodes = new vis.DataSet([{"id": 0, "label": "this.marketName = deviceInfo.m...", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 50, "desc": "èµ·ç‚¹ï¼šå°†deviceInfoçš„marketNameå±æ€§èµ‹å€¼ç»™this.marketNameï¼Œè¿™æ˜¯è®¾å¤‡ä¿¡æ¯çš„è·å–ç‚¹", "context": "   47:   // è·å–è®¾å¤‡ç¡¬ä»¶å„é¡¹ä¿¡æ¯\n   48:   getDeviceInfo() {\n   49:     // åˆ©ç”¨@ohos.deviceInfoè·å–è®¾å¤‡ä¿¡æ¯\nğŸ‘‰ 50:     this.marketName = deviceInfo.marketName\n   51:     this.osFullName = deviceInfo.osFullName\n   52:     this.sdkApiVersion = `${deviceInfo.sdkApiVersion}`\n   53:     this.deviceType = deviceInfo.deviceType", "flow_id": 1}, {"id": 1, "label": "hilog.info('HardwareIndexPage'...", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 51, "desc": "ç»ˆç‚¹ï¼šå°†this.marketNameçš„å€¼é€šè¿‡hilog.infoè¿›è¡Œæ—¥å¿—è¾“å‡ºï¼Œè¿™æ„æˆäº†ä»deviceInfo.marketNameåˆ°æ—¥å¿—è¾“å‡ºçš„æ•°æ®æµ", "context": "   48:   getDeviceInfo() {\n   49:     // åˆ©ç”¨@ohos.deviceInfoè·å–è®¾å¤‡ä¿¡æ¯\n   50:     this.marketName = deviceInfo.marketName\nğŸ‘‰ 51:     this.osFullName = deviceInfo.osFullName\n   52:     this.sdkApiVersion = `${deviceInfo.sdkApiVersion}`\n   53:     this.deviceType = deviceInfo.deviceType\n   54:     //åˆ©ç”¨@kit.ArkTsè·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œè¿”å›å€¼æ˜¯æ¯«ç§’", "flow_id": 1}, {"id": 2, "label": "let deviceInfo = deviceInfoUti...", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 50, "desc": "è·å–è®¾å¤‡ä¿¡æ¯å¯¹è±¡ï¼Œè¿™æ˜¯æ•°æ®æµçš„èµ·å§‹ç‚¹", "context": "   47:   // è·å–è®¾å¤‡ç¡¬ä»¶å„é¡¹ä¿¡æ¯\n   48:   getDeviceInfo() {\n   49:     // åˆ©ç”¨@ohos.deviceInfoè·å–è®¾å¤‡ä¿¡æ¯\nğŸ‘‰ 50:     this.marketName = deviceInfo.marketName\n   51:     this.osFullName = deviceInfo.osFullName\n   52:     this.sdkApiVersion = `${deviceInfo.sdkApiVersion}`\n   53:     this.deviceType = deviceInfo.deviceType", "flow_id": 2}, {"id": 3, "label": "this.osFullName = deviceInfo.o...", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 51, "desc": "å°†è®¾å¤‡ä¿¡æ¯ä¸­çš„æ“ä½œç³»ç»Ÿå…¨åèµ‹å€¼ç»™å½“å‰é¡µé¢å®ä¾‹çš„osFullNameå±æ€§ï¼Œè¿™æ˜¯æ•°æ®æµçš„å…³é”®è½¬ç§»ç‚¹", "context": "   48:   getDeviceInfo() {\n   49:     // åˆ©ç”¨@ohos.deviceInfoè·å–è®¾å¤‡ä¿¡æ¯\n   50:     this.marketName = deviceInfo.marketName\nğŸ‘‰ 51:     this.osFullName = deviceInfo.osFullName\n   52:     this.sdkApiVersion = `${deviceInfo.sdkApiVersion}`\n   53:     this.deviceType = deviceInfo.deviceType\n   54:     //åˆ©ç”¨@kit.ArkTsè·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œè¿”å›å€¼æ˜¯æ¯«ç§’", "flow_id": 2}, {"id": 4, "label": "hilog.info('HardwareIndexPage'...", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 52, "desc": "å°†osFullNameå±æ€§çš„å€¼é€šè¿‡hilog.infoè®°å½•åˆ°æ—¥å¿—ä¸­ï¼Œè¿™æ˜¯æ•°æ®æµçš„ç»ˆç‚¹ï¼Œè®¾å¤‡ä¿¡æ¯è¢«è®°å½•åœ¨æ—¥å¿—é‡Œ", "context": "   49:     // åˆ©ç”¨@ohos.deviceInfoè·å–è®¾å¤‡ä¿¡æ¯\n   50:     this.marketName = deviceInfo.marketName\n   51:     this.osFullName = deviceInfo.osFullName\nğŸ‘‰ 52:     this.sdkApiVersion = `${deviceInfo.sdkApiVersion}`\n   53:     this.deviceType = deviceInfo.deviceType\n   54:     //åˆ©ç”¨@kit.ArkTsè·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œè¿”å›å€¼æ˜¯æ¯«ç§’\n   55:     this.uptime = process.uptime()", "flow_id": 2}, {"id": 5, "label": "this.sdkApiVersion = `${device...", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 52, "desc": "èµ·ç‚¹ï¼šå°†deviceInfoå¯¹è±¡çš„sdkApiVersionå±æ€§èµ‹å€¼ç»™this.sdkApiVersionï¼Œè¿™æ˜¯è®¾å¤‡ä¿¡æ¯çš„è·å–", "context": "   49:     // åˆ©ç”¨@ohos.deviceInfoè·å–è®¾å¤‡ä¿¡æ¯\n   50:     this.marketName = deviceInfo.marketName\n   51:     this.osFullName = deviceInfo.osFullName\nğŸ‘‰ 52:     this.sdkApiVersion = `${deviceInfo.sdkApiVersion}`\n   53:     this.deviceType = deviceInfo.deviceType\n   54:     //åˆ©ç”¨@kit.ArkTsè·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œè¿”å›å€¼æ˜¯æ¯«ç§’\n   55:     this.uptime = process.uptime()", "flow_id": 3}, {"id": 6, "label": "hilog.info('HardwareIndexPage'...", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 53, "desc": "ç»ˆç‚¹ï¼šå°†ä¹‹å‰è·å–çš„sdkApiVersionå€¼é€šè¿‡hilog.infoè¿›è¡Œæ—¥å¿—è®°å½•ï¼Œè®¾å¤‡ä¿¡æ¯è¢«è¾“å‡ºåˆ°æ—¥å¿—ä¸­", "context": "   50:     this.marketName = deviceInfo.marketName\n   51:     this.osFullName = deviceInfo.osFullName\n   52:     this.sdkApiVersion = `${deviceInfo.sdkApiVersion}`\nğŸ‘‰ 53:     this.deviceType = deviceInfo.deviceType\n   54:     //åˆ©ç”¨@kit.ArkTsè·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œè¿”å›å€¼æ˜¯æ¯«ç§’\n   55:     this.uptime = process.uptime()\n   56:     //   è·å–å±å¹•æ•°æ®", "flow_id": 3}, {"id": 7, "label": "this.deviceType = deviceInfo.d...", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 53, "desc": "èµ·ç‚¹ï¼šå°†deviceInfoçš„deviceTypeå±æ€§èµ‹å€¼ç»™this.deviceTypeï¼Œå¼€å§‹æ•°æ®æµ", "context": "   50:     this.marketName = deviceInfo.marketName\n   51:     this.osFullName = deviceInfo.osFullName\n   52:     this.sdkApiVersion = `${deviceInfo.sdkApiVersion}`\nğŸ‘‰ 53:     this.deviceType = deviceInfo.deviceType\n   54:     //åˆ©ç”¨@kit.ArkTsè·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œè¿”å›å€¼æ˜¯æ¯«ç§’\n   55:     this.uptime = process.uptime()\n   56:     //   è·å–å±å¹•æ•°æ®", "flow_id": 4}, {"id": 8, "label": "hilog.info('deviceType: ' + th...", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 54, "desc": "ç»ˆç‚¹ï¼šå°†this.deviceTypeçš„å€¼é€šè¿‡hilog.infoè¾“å‡ºï¼Œå®Œæˆæ•°æ®æµ", "context": "   51:     this.osFullName = deviceInfo.osFullName\n   52:     this.sdkApiVersion = `${deviceInfo.sdkApiVersion}`\n   53:     this.deviceType = deviceInfo.deviceType\nğŸ‘‰ 54:     //åˆ©ç”¨@kit.ArkTsè·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œè¿”å›å€¼æ˜¯æ¯«ç§’\n   55:     this.uptime = process.uptime()\n   56:     //   è·å–å±å¹•æ•°æ®\n   57:     this.getScreenInfo()", "flow_id": 4}, {"id": 9, "label": "const hasDefaultNet = connecti...", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 62, "desc": "èµ·ç‚¹ï¼šè·å–é»˜è®¤ç½‘ç»œè¿æ¥çŠ¶æ€ï¼Œè°ƒç”¨connection APIè·å–ç½‘ç»œä¿¡æ¯", "context": "   59:     this.getSenorIdArr()\n   60:     //   è·å–ç½‘ç»œçŠ¶æ€\n   61:     // é¦–å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨é»˜è®¤è¿æ¥çš„ç½‘ç»œ\nğŸ‘‰ 62:     const hasDefaultNet = connection.hasDefaultNetSync()\n   63:     // æ²¡æœ‰ç½‘ç»œ\n   64:     if (!hasDefaultNet) {\n   65:       // this.netWorkType = &#x27;æ— ç½‘ç»œ&#x27;", "flow_id": 5}, {"id": 10, "label": "if ", "file": "data/Wechat_HarmonyOS/entry/src/main/ets/pages/HardwareIndexPage.ets", "line": 64, "desc": "ç»ˆç‚¹ï¼šä½¿ç”¨ç½‘ç»œè¿æ¥çŠ¶æ€è¿›è¡Œæ¡ä»¶åˆ¤æ–­", "context": "   61:     // é¦–å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨é»˜è®¤è¿æ¥çš„ç½‘ç»œ\n   62:     const hasDefaultNet = connection.hasDefaultNetSync()\n   63:     // æ²¡æœ‰ç½‘ç»œ\nğŸ‘‰ 64:     if (!hasDefaultNet) {\n   65:       // this.netWorkType = &#x27;æ— ç½‘ç»œ&#x27;\n   66:       return\n   67:     } else {", "flow_id": 5}]);
const edges = new vis.DataSet([{"from": 0, "to": 1, "arrows": "to"}, {"from": 2, "to": 3, "arrows": "to"}, {"from": 3, "to": 4, "arrows": "to"}, {"from": 5, "to": 6, "arrows": "to"}, {"from": 7, "to": 8, "arrows": "to"}, {"from": 9, "to": 10, "arrows": "to"}]);

const options = {
  interaction: { hover: true },
  physics: { enabled: true },
  nodes: {
    shape: "box",
    font: { size: 12 }
  },
  edges: {
    arrows: {
      to: { enabled: true, scaleFactor: 1 }
    },
    smooth: {
      type: "cubicBezier"
    }
  }
};

const network = new vis.Network(
  document.getElementById("network"),
  { nodes, edges },
  options
);

network.on("click", function (params) {
  if (!params.nodes.length) return;
  const node = nodes.get(params.nodes[0]);

  document.getElementById("info").innerHTML = `
    <div class="node-info">
      <p><b>æ•°æ®æµç¼–å·ï¼š</b>${node.flow_id || 1}</p>
      <p><b>æ–‡ä»¶ï¼š</b>${node.file}</p>
      <p><b>è¡Œå·ï¼š</b>${node.line}</p>
      <p><b>æè¿°ï¼š</b>${node.desc}</p>
    </div>
    <h3>ä»£ç ä¸Šä¸‹æ–‡ï¼ˆä¸­å¿ƒè¡Œå·ï¼š${node.line}ï¼‰</h3>
    <pre>${node.context}</pre>
  `;
});
</script>

</body>
</html>
